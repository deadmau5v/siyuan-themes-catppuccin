/* Map SiYuan variables to Catppuccin Mocha colors */
:root {
  /* Font stack: prioritizing Source Han Sans for CJK characters */
  --b3-font-family: "Source Han Sans", "Noto Sans CJK SC", "Microsoft YaHei", sans-serif;

  /* Base colors: background and surface */
  --b3-theme-background: var(--ctp-mocha-base);
  --b3-theme-surface: var(--ctp-mocha-surface0);
  --b3-theme-on-background: var(--ctp-mocha-text);

  /* Primary color: used for main actions and highlights */
  --b3-theme-primary: var(--ctp-mocha-mauve);
  --b3-theme-on-primary: var(--ctp-mocha-base);
  --b3-theme-primary-light: rgba(203, 166, 247, 0.5);
  --b3-theme-primary-lighter: rgba(203, 166, 247, 0.2);

  /* Secondary color: used for alternate actions */
  --b3-theme-secondary: var(--ctp-mocha-blue);
  --b3-theme-on-secondary: var(--ctp-mocha-base);

  /* Error color: used for destructive actions and errors */
  --b3-theme-error: var(--ctp-mocha-red);

  /* Surface variants: for borders and dividers */
  --b3-theme-surface-lighter: var(--ctp-mocha-surface1);
  --b3-theme-surface-light: var(--ctp-mocha-surface2);

  /* Scrollbar color */
  --b3-scroll-color: var(--ctp-mocha-surface2);

  /* List and tree structure: hover states */
  --b3-list-hover: var(--ctp-mocha-surface1);
  --b3-list-icon-hover: var(--ctp-mocha-text);

  /* Switch component: checked and unchecked states */
  --b3-switch-checked-background: var(--ctp-mocha-mauve);
  --b3-switch-background: var(--ctp-mocha-surface2);
}

/* Component style overrides: Editor area */
.protyle-wysiwyg {
  background-color: var(--b3-theme-background) !important;
  color: var(--b3-theme-on-background) !important;
}

/* Component style overrides: Editor background */
.protyle-background {
  background-color: var(--ctp-mocha-mantle) !important;
}

/* Component style overrides: Center panel */
.layout__center {
  background-color: var(--b3-theme-background) !important;
}

/* Component style overrides: Dock panels (left, right, bottom) */
.layout__dockl, .layout__dockr, .layout__dockb {
  background-color: var(--ctp-mocha-mantle) !important;
}

/* Component style overrides: Toolbar */
.toolbar {
  background-color: var(--ctp-mocha-crust) !important;
}

/* Flat design: Remove shadows from sidebar and floating panels */
.layout__dockl,
.layout__dockr,
.layout__dockb,
.layout--float {
  box-shadow: none !important;
}

/* Flat design: Remove shadows from list items */
.b3-list-item {
  box-shadow: none !important;
}

/* Flat design: Remove shadows from tooltips */
.b3-tooltips {
  box-shadow: none !important;
}

/* Flat design: Remove shadows from block icons */
.block__icon {
  box-shadow: none !important;
}

/* Flat design: Remove shadows from panel containers */
.layout-tab-container,
.file-tree {
  box-shadow: none !important;
}

/* Typography: Apply Source Han Sans font globally */
body,
.protyle-wysiwyg,
.b3-list-item,
.block__logo,
.b3-list-item__text {
  font-family: var(--b3-font-family) !important;
}

/* Component style overrides: Switch thumb color */
.b3-switch::after {
  background-color: var(--ctp-mocha-base) !important;
}

.b3-switch:checked::after {
  background-color: var(--ctp-mocha-base) !important;
}
